# rclone连接到google drive

# 1. google drive API获取


### 1. 创建 OAuth 客户端 ID

1. 访问 API 网址：https://console.cloud.google.com/apis/dashboard

创建项目，然后搜索 google drive api，如下所示

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-211309.png" alt="Image Description" width="700">
</p>

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-211352.png" alt="Image Description" width="700">
</p>

- 点击启用/管理 google drive api

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-211412.png" alt="Image Description" width="700">
</p>



2. 创建 OAuth 客户端 ID

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-212032.png" alt="Image Description" width="700">
</p>

- 可能需要配置权限请求页面

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-212816.png" alt="Image Description" width="700">
</p>


- 选择桌面应用

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-220801.png" alt="Image Description" width="700">
</p>


- 获取客户端密钥

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-221001.png" alt="Image Description" width="700">
</p>




- 创建服务账号，后两项可选跳过

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-213012.png" alt="Image Description" width="700">
</p>


- 设置 OAuth 权限请求页面

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-215703.png" alt="Image Description" width="700">
</p>





### 2. 数据访问权限配置


在右侧方框中添加以下网址

```
https://www.googleapis.com/auth/docs
https://www.googleapis.com/auth/drive
https://www.googleapis.com/auth/drive.metadata.readonly
```


<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-215157.png" alt="Image Description" width="700">
</p>

保存所选的权限

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-215927.png" alt="Image Description" width="700">
</p>



### 3. 设置目标对象

发布状态选测试，用户类型选外部，添加用户为自己的谷歌邮箱账号

<p align="center">
<img src="https://19640810.xyz/05_image/01_imageHost/20250426-220441.png" alt="Image Description" width="700">
</p>





# 2. rclone连接到google drive

1. 大部分步骤 参考 rclone 连接 onedrive 教程即可
2. 以下步骤需要注意：

- google drive的序号在19左右

```
Option Storage.
Type of storage to configure.
Choose a number from below, or type in your own value.

19 / Google Drive
   \ (drive)

Storage> 19
```

- 输入客户端ID和密钥，生成rclone请求命令，cmd运行该命令，默认edge打开该链接，注意需要提前登录google drive对应的谷歌账号（需要科学上网）

```
Option client_id.
Google Application Client Id
Setting your own is recommended.
See https://rclone.org/drive/#making-your-own-client-id for how to create your own.
If you leave this blank, it will use an internal key which is low performance.
Enter a value. Press Enter to leave empty.
client_id> 

Option client_secret.
OAuth Client Secret.
Leave blank normally.
Enter a value. Press Enter to leave empty.
client_secret> 
```

- 选择 1 `Full access all files, excluding Application Data Folder.`

```
Option scope.
Comma separated list of scopes that rclone should use when requesting access from drive.
Choose a number from below, or type in your own value.
Press Enter to leave empty.
 1 / Full access all files, excluding Application Data Folder.
   \ (drive)
 2 / Read-only access to file metadata and file contents.
   \ (drive.readonly)
   / Access to files created by rclone only.
 3 | These are visible in the drive website.
   | File authorization is revoked when the user deauthorizes the app.
   \ (drive.file)
   / Allows read and write access to the Application Data folder.
 4 | This is not visible in the drive website.
   \ (drive.appfolder)
   / Allows read-only access to file metadata but
 5 | does not allow any access to read or download file content.
   \ (drive.metadata.readonly)
scope> 1
```






# 参考资料
- [Linux使用Rclone挂载 Google Drive 教程](https://aduan.cc/archives/20/)
- [自建 Google Drive API](https://docs.zfile.vip/advanced/google-drive-api/)
- [使用 rclone 为 Google Drive 提供 WebDAV 访问方式](https://blog.arisa.moe/blog/2024/241126-google-drive-rclone-webdav/)
- [vps使用rclone挂载Google Drive详细记录](https://pickstar.today/2022/05/vps%e4%bd%bf%e7%94%a8rclone%e6%8c%82%e8%bd%bdgoogle-drive%e8%af%a6%e7%bb%86%e8%ae%b0%e5%bd%95/)

